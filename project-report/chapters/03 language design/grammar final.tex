\subsection{Arc grammar}\label{sec:arcgrammar}

% \begin{align*}
%     start       & \to \text{declaration*}                                                                                                                                                     \\ %variable_declaration
%     declaration & \to \text{TYPE\_TYPEOPERATOR IDENTIFIER "=" ("[" (expression ("," expression)*)?}                                                                                           \\ & \quad \text{"]"} \mid \text{expression) ";"}                                                           \\ %function_declaration
%                 & \mid \text{TYPE\_TYPEOPERATOR IDENTIFIER "(" (TYPE\_TYPEOPERATOR IDENTIFIER ("," TYPE\_TYPEOPERATOR IDENTIFIER)*)? ")" statement*}                                          \\ %function_declaration
%                 & \mid \text{"\#" "pin" IDENTIFIER "(" (PINDIGIT} \mid \text{NUMBER) "," ("INPUT" | "OUTPUT") ")" ";" }                                                                       \\ %pin_declaration
%                 & \mid \text{"task" ("(" (TYPE\_TYPEOPERATOR IDENTIFIER ( "," TYPE\_TYPEOPERATOR IDENTIFIER)*)? ")")? (("every" NUMBER)} \mid \text{("when" "(" expression ")"))? statement*} \\ %task_declaration
%     block       & \to \text{"\{" statement* "\}"}                                                                                                                                             \\
%     statement   & \to \text{block}                                                                                                                                                            \\ %block_statement
%                 & \mid \text{"return" expression ";"}                                                                                                                                         \\ %return_statement
%                 & \mid \text{"if" "(" expression ")" statement ("else" statement)?}                                                                                                           \\ %if_else_statement
%                 & \mid \text{"for" "(" TYPE\_TYPEOPERATOR IDENTIFIER "in" IDENTIFIER ")" statement}                                                                                           \\ %forloop_statement
%                 & \mid \text{(TYPE\_TYPEOPERATOR IDENTIFIER "=" ( "[" (expression ("," expression)*)? "]" | expression) ";") }                                                                \\ %variable_declaration_statement
%                 & \mid \text{IDENTIFIER ("[" NUMBER "]")? "=" ( "[" (expression ("," expression)*)? "]" | expression) ";}                                                                     \\ % assignment_statement
%                 & \mid \text{(IDENTIFIER} \mid \text{ARDUINOFUNCTIONS) "(" (expression ("," expression)*)? ")" ";" }                                                                          \\ %function_call_statement
%     expression  & \to \text{(NUMBER} \mid \text{IDENTIFIER} \mid \text{BOOL} \mid \text{CHAR)}                                                                                                \\ %terminal_expression
%                 & \mid \text{(IDENTIFIER} \mid \text{ARDUINOFUNCTIONS) "(" (expression ("," expression)*)?")"}                                                                                \\ %function_access_expression
%                 & \mid \text{IDENTIFIER "[" NUMBER "]"}                                                                                                                                       \\ %array_access_expression
%                 & \mid \text{"(" expression ")"}                                                                                                                                              \\ %parentheses_expression
%                 & \mid \text{"not" expression}                                                                                                                                                \\ %unary_negation_expression
%                 & \mid \text{expression (MULTI} \mid \text{DIVI) expression}                                                                                                                  \\ %multiplication_divide_expression
%                 & \mid \text{expression (PLUS} \mid \text{MINUS) expression}                                                                                                                  \\ %plus_minus_expression
%                 & \mid \text{expression RELATIONEQOPERATORS expression}                                                                                                                       \\ %relational_equality_expression
%                 & \mid \text{expression RELATIONOPERATORS expression}                                                                                                                         \\ %relational_operator_expression
%                 & \mid \text{expression "and" expression}                                                                                                                                     \\ %and_expression
%                 & \mid \text{expression "or" expression}                                                                                                                                      \\ %or_expression
% \end{align*}


% \begin{table}[htb!]
%     \centering
%     \begin{tabular}{ll>{\arraybackslash}p{10cm}}
%         \textit{start}       & $\to$  & $declaration$*                                                                                                                                               \\
%         \textit{declaration} & $\to$  & TYPE\_TYPEOPERATOR IDENTIFIER "=" ("[" ($expression$ ("," $expression$)*)?"]" $\mid$ $expression$) ";"                                                           \\
%                              & $\mid$ & TYPE\_TYPEOPERATOR IDENTIFIER "("(TYPE\_TYPEOPERATOR IDENTIFIER ("," TYPE\_TYPEOPERATOR IDENTIFIER)*)?")" $statement$*                                       \\
%                              & $\mid$ & "\#" "pin" IDENTIFIER "(" (PINDIGIT $\mid$ NUMBER) "," ("INPUT" | "OUTPUT") ")" ";"                                                                        \\
%                              & $\mid$ & "task" ("(" (TYPE\_TYPEOPERATOR IDENTIFIER ( "," TYPE\_TYPEOPERATOR IDENTIFIER)*)? ")")? (("every" NUMBER) $\mid$ ("when" "(" $expression$ ")"))? $statement$* \\
%         \textit{block}       & $\to$  & "\{" $statement$* "\}"                                                                                                                                       \\
%         \textit{statement}   & $\to$  & $block$                                                                                                                                                      \\
%                              & $\mid$ & "return" $expression$ ";"                                                                                                                                    \\
%                              & $\mid$ & "if" "(" $expression$ ")" $statement$ ("else" $statement$)?                                                                                                      \\
%                              & $\mid$ & "for" "(" TYPE\_TYPEOPERATOR IDENTIFIER "in" IDENTIFIER ")" $statement$                                                                                      \\
%                              & $\mid$ & (TYPE\_TYPEOPERATOR IDENTIFIER "=" ( "[" ($expression$ ("," $expression$)*)? "]" | $expression$) ";")                                                            \\
%                              & $\mid$ & IDENTIFIER ("[" NUMBER "]")? "=" ( "[" ($expression$ ("," $expression$)*)? "]" | $expression$) ";                                                                \\
%                              & $\mid$ & (IDENTIFIER $\mid$ ARDUINOFUNCTIONS) "(" ($expression$ ("," $expression$)*)? ")" ";"                                                                           \\
%         \textit{expression}  & $\to$  & (NUMBER $\mid$ IDENTIFIER $\mid$ BOOL $\mid$ CHAR)                                                                                                         \\
%                              & $\mid$ & (IDENTIFIER $\mid$ ARDUINOFUNCTIONS) "(" ($expression$ ("," $expression$)*)?")"                                                                                \\
%                              & $\mid$ & IDENTIFIER "[" NUMBER "]"                                                                                                                                  \\
%                              & $\mid$ & "(" $expression$ ")"                                                                                                                                         \\
%                              & $\mid$ & "not" $expression$                                                                                                                                           \\
%                              & $\mid$ & $expression$ (MULTI $\mid$ DIVI) $expression$                                                                                                                  \\
%                              & $\mid$ & $expression$ (PLUS $\mid$ MINUS) $expression$                                                                                                                  \\
%                              & $\mid$ & $expression$ RELATIONEQOPERATORS $expression$                                                                                                                  \\
%                              & $\mid$ & $expression$ RELATIONOPERATORS $expression$                                                                                                                    \\
%                              & $\mid$ & $expression$ "and" $expression$                                                                                                                                \\
%                              & $\mid$ & $expression$ "or" $expression$                                                                                                                                 \\
%     \end{tabular}
% \end{table}

\begin{table}[htb!]
    \centering
    \begin{tabular}{ll>{\arraybackslash}p{10cm}}
        \textit{start}       & $\to$  & $declaration$*                                                                                                                            \\
        \textit{declaration} & $\to$  & TYPE\_TYPEOPERATOR IDENTIFIER = ([ ($expression$ (, $expression$)*)?] $\mid$ $expression$) ;                                              \\
                             & $\mid$ & TYPE\_TYPEOPERATOR IDENTIFIER ((TYPE\_TYPEOPERATOR IDENTIFIER (, TYPE\_TYPEOPERATOR IDENTIFIER)*)?) $statement$*                          \\
                             & $\mid$ & \# pin IDENTIFIER ((PINDIGIT $\mid$ NUMBER), (INPUT $\mid$ OUTPUT));                                                                          \\
                             & $\mid$ & task (((TYPE\_TYPEOPERATOR IDENTIFIER (, TYPE\_TYPEOPERATOR IDENTIFIER)*)?))? ((every NUMBER) $\mid$ (when ($expression$)))? $statement$* \\
        \textit{block}       & $\to$  & \{$statement$*\}                                                                                                                          \\
        \textit{statement}   & $\to$  & $block$                                                                                                                                   \\
                             & $\mid$ & return $expression$;                                                                                                                      \\
                             & $\mid$ & if ($expression$) $statement$ (else $statement$)?                                                                                         \\
                             & $\mid$ & for (TYPE\_TYPEOPERATOR IDENTIFIER in IDENTIFIER ) $statement$                                                                            \\
                             & $\mid$ & (TYPE\_TYPEOPERATOR IDENTIFIER = ([($expression$ (, $expression$)*)?] $\mid$ $expression$);)                                              \\
                             & $\mid$ & IDENTIFIER ([NUMBER])? = ([($expression$ (, $expression$)*)? ] $\mid$ $expression$);                                                      \\
                             & $\mid$ & (IDENTIFIER $\mid$ ARDUINOFUNCTIONS) (($expression$ (, $expression$)*)?);                                                                 \\
        \textit{expression}  & $\to$  & (NUMBER $\mid$ IDENTIFIER $\mid$ BOOL $\mid$ CHAR)                                                                                        \\
                             & $\mid$ & (IDENTIFIER $\mid$ ARDUINOFUNCTIONS) (($expression$ (, $expression$)*)?)                                                                  \\
                             & $\mid$ & IDENTIFIER [NUMBER]                                                                                                                       \\
                             & $\mid$ & ($expression$)                                                                                                                            \\
                             & $\mid$ & not $expression$                                                                                                                          \\
                             & $\mid$ & $expression$ (* $\mid$ /) $expression$                                                                                                    \\
                             & $\mid$ & $expression$ (+ $\mid$ -) $expression$                                                                                                    \\
                             & $\mid$ & $expression$ RELATIONEQOPERATORS $expression$                                                                                             \\
                             & $\mid$ & $expression$ RELATIONOPERATORS $expression$                                                                                               \\
                             & $\mid$ & $expression$ and $expression$                                                                                                             \\
                             & $\mid$ & $expression$ or $expression$                                                                                                              \\
    \end{tabular}
\end{table}

\begin{table}[htb!]
    \centering
    \begin{tabular}{ll>{\arraybackslash}p{10cm}}
        \textit{NUMBER}                  & $\to$ & "-"? DIGIT+ ("." DIGIT+)?;             \\
        \textit{PINDIGIT}                & $\to$ & "A" [0-5];                             \\
        \textit{INT}                     & $\to$ & DIGIT;                                 \\
        \textit{fragment DIGIT}          & $\to$ & [0-9];                                 \\
        \\
        \textit{TYPE\_TYPEOPERATOR}      & $\to$ & PREFIXOPERATOR? TYPE (TYPEOPERATOR)*;  \\
        \\
        \textit{RELATIONEQOPERATORS}     & $\to$ & "==" $\mid$ "!="                       \\
        \textit{RELATIONOPERATORS}       & $\to$ & "<" $\mid$ ">" $\mid$ "<=" $\mid$ ">=" \\
        \\
        \textit{fragment TYPEOPERATOR}   & $\to$ & "[]";                                  \\
        \textit{fragment PREFIXOPERATOR} & $\to$ & "mut ";                                \\
        \textit{fragment TYPE}           & $\to$ & "num" $\mid$ "bool" $\mid$ "char";     \\
    \end{tabular}
\end{table}

